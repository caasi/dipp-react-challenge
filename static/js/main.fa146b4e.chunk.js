(this["webpackJsonpdipp-react-challenge"]=this["webpackJsonpdipp-react-challenge"]||[]).push([[0],{126:function(e,a,t){e.exports={className:"App_className__XlKPR"}},128:function(e,a,t){},132:function(e,a,t){e.exports={className:"Task2Page_className__164pR"}},135:function(e,a,t){e.exports=t(272)},140:function(e,a,t){},172:function(e,a){},174:function(e,a){},206:function(e,a){},207:function(e,a){},23:function(e,a,t){e.exports={className:"Weather_className__10LuG",day:"Weather_day__1xg-O",icon:"Weather_icon__3_CcN",temp:"Weather_temp__3aKqe",max:"Weather_max__2bzGm",min:"Weather_min__2Tm7w"}},272:function(e,a,t){"use strict";t.r(a);var n={};t.r(n),t.d(n,"login",(function(){return R}));var r={};t.r(r),t.d(r,"list",(function(){return Y})),t.d(r,"create",(function(){return z})),t.d(r,"remove",(function(){return A}));var c={};t.r(c),t.d(c,"forecast5",(function(){return Z}));var s=t(0),i=t.n(s),o=t(125),l=t.n(o),m=(t(140),t(126)),u=t.n(m),d=t(43),f=t(20),p=t(6),_=t(64),v=t.n(_),h=t(19),g=t.n(h),b=t(35),E=t.n(b),N=i.a.memo((function(e){var a=e.id,t=e.className,n=e.disabled,r=void 0!==n&&n,c=e.message,o=void 0===c?"":c,l=e.onSubmit,m=Object(s.useState)(""),u=Object(p.a)(m,2),d=u[0],f=u[1],_=Object(s.useState)(""),v=Object(p.a)(_,2),h=v[0],b=v[1];return i.a.createElement("form",{id:a,className:g()(E.a.className,t),onSubmit:function(e){e.preventDefault(),"function"===typeof l&&l(e,d,h)}},i.a.createElement("div",{className:E.a.username},i.a.createElement("label",{htmlFor:"login-username"},"username"),i.a.createElement("input",{id:"login-username",value:d,onChange:function(e){return f(e.target.value)}})),i.a.createElement("div",{className:E.a.password},i.a.createElement("label",{htmlFor:"login-password"},"password"),i.a.createElement("input",{id:"login-password",type:"password",value:h,onChange:function(e){return b(e.target.value)}})),i.a.createElement("button",{disabled:r,type:"submit"},"Login"),o&&i.a.createElement("p",{className:E.a.message},o))})),y=t(36),w=t.n(y),O=t(23),j=t.n(O),k=t(127),x=t.n(k),P=t(128),S=t.n(P),W=i.a.memo((function(e){e.id;var a=e.className,t=e.icon,n=void 0===t?"":t,r=e.main,c=void 0===r?"":r,s=e.description,o=void 0===s?"":s;return i.a.createElement("div",{className:g()(S.a.className,a)},i.a.createElement("img",{src:"".concat("http://openweathermap.org/img/w/").concat(n,".png"),alt:"".concat(c," - ").concat(o)}))})),M=i.a.memo((function(e){e.id;var a=e.className,t=e.active,n=e.data,r=e.onClick,c=n.dt_txt,s=n.main,o=(s=void 0===s?{}:s).temp_min,l=s.temp_max,m=n.weather,u=void 0===m?[]:m,d=x()(c).format("ddd"),f=Math.floor(l),p=Math.floor(o);return i.a.createElement("div",{className:g()(j.a.className,a,{active:t}),onClick:r},i.a.createElement("span",{className:j.a.day},d),u.map((function(e){return i.a.createElement(W,Object.assign({key:e.id,className:j.a.icon},e))})),i.a.createElement("div",{className:j.a.temp},i.a.createElement("span",{className:j.a.max},f,"\xb0"),i.a.createElement("span",{className:j.a.min},p,"\xb0")))})),F=t(37),L=t.n(F),T=i.a.memo((function(e){var a=e.id,t=e.className,n=e.data,r=void 0===n?{}:n,c=r.main,s=(c=void 0===c?{}:c).temp_max,o=c.temp_min,l=r.weather,m=void 0===l?[]:l,u=Math.floor(s),d=Math.floor(o);return console.log(r),i.a.createElement("div",{id:a,className:g()(L.a.className,t)},i.a.createElement("div",{className:L.a.time},r.dt_txt),i.a.createElement("div",{className:L.a.temp},d,"\xb0 ~ ",u,"\xb0"),i.a.createElement("div",{className:L.a.description},m&&0!==m.length&&m[0].description))})),C=t(27),I=t(67);var G=t(12),J=t.n(G),K=t(129),q=t.n(K),B=t(130),D=t.n(B),Q=function(e){return function(a){return new Promise((function(t){return setTimeout(t,e,a)}))}};function R(e,a){var t=J.a.get("users")[e]||{};return D.a.stringify(q()(a))===t.password?Promise.resolve(t).then(Q(1e3)):Promise.resolve().then(Q(3e3)).then((function(){throw new Error("invalid password")}))}J.a.get("users")||J.a.set("users",{admin:{username:"admin",password:"5e884898da28047151d0e56f8dc6292773603d0d6aabbdd62a11ef721d1542d8"},user:{username:"user",password:"c3ab8ff13720e8ad9047dd39466b3c8974e592c2fa383d4a3960714caef0c4f2"}});var X=t(44);function Y(){return Promise.resolve(J.a.get("cities")).then(Q(1e3))}function z(e){var a=[].concat(Object(X.a)(J.a.get("cities")),[e]);return J.a.set("cities",a),Promise.resolve(a).then(Q(1e3))}function A(e){var a=J.a.get("cities"),t=a.findIndex(e);return-1!==t&&(a=[].concat(Object(X.a)(a.slice(0,t)),Object(X.a)(a.slice(t+1))),J.a.set("cities",a)),Promise.resolve(a).then(Q(1e3))}J.a.get("cities")||J.a.set("cities",["Mexico","Shanghai","Tokyo","London","New York"]);var H=t(131),U=t.n(H);function Z(e){return U.a.get("//api.openweathermap.org/data/2.5/forecast",{params:{appid:"e478fcf29bbe5bc557fb4db3e76d830d",q:e,units:"imperial"}}).then((function(e){return e.data}))}var $=i.a.memo((function(e){var a=e.city,t=Object(s.useState)(),n=Object(p.a)(t,2),r=n[0],o=n[1],l=Object(C.usePromise)(Object(s.useMemo)((function(){return c.forecast5(a)}),[a])),m=Object(p.a)(l,3),u=m[0],d=void 0===u?{list:[]}:u,f=m[2],_=Object(s.useMemo)((function(){return function(e){var a=e.list,t=void 0===a?[]:a,n=0,r={},c=[],s=!0,i=!1,o=void 0;try{for(var l,m=t[Symbol.iterator]();!(s=(l=m.next()).done);s=!0){var u=l.value,d=u.dt_txt.split(" "),f=Object(p.a)(d,1)[0];!r[f]&&n<5&&(r[f]=!0,c.push(u),n+=1)}}catch(_){i=!0,o=_}finally{try{s||null==m.return||m.return()}finally{if(i)throw o}}return Object(I.a)({},e,{cnt:c.length,list:c})}(d)}),[d]),v=Object(C.useOptional)([r],(function(e){return function(e,a){var t=e.list,n=void 0===t?[]:t,r=a.split(" "),c=Object(p.a)(r,1)[0],s=[],i=!0,o=!1,l=void 0;try{for(var m,u=n[Symbol.iterator]();!(i=(m=u.next()).done);i=!0){var d=m.value,f=d.dt_txt.split(" ");Object(p.a)(f,1)[0]===c&&s.push(d)}}catch(_){o=!0,l=_}finally{try{i||null==u.return||u.return()}finally{if(o)throw l}}return Object(I.a)({},e,{cnt:s.length,list:s})}(d,e)}));return i.a.createElement("div",{className:w.a.className},f?i.a.createElement("span",null,"loading..."):i.a.createElement("ol",{className:w.a.daily},_.list.map((function(e){return i.a.createElement("li",{key:e.dt_txt},i.a.createElement(M,{active:e.dt_txt===r,data:e,onClick:function(){return o(e.dt_txt)}}))}))),v&&i.a.createElement("ol",{className:w.a.hourly},v.list.map((function(e){return i.a.createElement("li",{key:e.dt_txt},i.a.createElement(T,{className:w.a.item,data:e}))}))))}));function V(e){var a=e.id,t=Object(s.useState)(),c=Object(p.a)(t,2),o=c[0],l=c[1],m=Object(C.usePromise)(o),u=Object(p.a)(m,3),d=u[0],f=u[1],_=u[2],h=Object(s.useMemo)((function(){return r.list()}),[]),g=Object(C.usePromise)(h),b=Object(p.a)(g,3),E=b[0],y=void 0===E?[]:E,w=b[2];return i.a.createElement("div",{id:a,className:v.a.className},!d&&i.a.createElement("div",{className:v.a.login},i.a.createElement(N,{disabled:_,message:f&&f.message,onSubmit:function(e,a,t){l(n.login(a,t))}})),d?w?i.a.createElement("p",null,"loading..."):y.map((function(e){return i.a.createElement("section",{key:e},i.a.createElement("h2",null,e),i.a.createElement($,{city:e}))})):null)}var ee=t(132),ae=t.n(ee);function te(e){var a=e.id;return i.a.createElement("div",{id:a,className:ae.a.className},"the task 2 page")}var ne=function(e){var a=e.id;return i.a.createElement(d.a,{basename:"/"},i.a.createElement("div",{id:a,className:u.a.className},i.a.createElement("nav",null,i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement(d.b,{to:"/task1"},"Task 1")),i.a.createElement("li",null,i.a.createElement(d.b,{to:"/task2"},"Task 2")))),i.a.createElement("main",null,i.a.createElement(f.d,null,i.a.createElement(f.b,{path:"/task1"},i.a.createElement(V,null)),i.a.createElement(f.b,{path:"/task2"},i.a.createElement(te,null)),i.a.createElement(f.a,{to:"/task1"})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(ne,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},35:function(e,a,t){e.exports={className:"Login_className__1EyjJ",username:"Login_username__2ar3h",password:"Login_password__3SZDG",message:"Login_message__CMXU6"}},36:function(e,a,t){e.exports={className:"Forecast_className__2gNKt",daily:"Forecast_daily__Qge9c",hourly:"Forecast_hourly__3rkP7",item:"Forecast_item__14So_"}},37:function(e,a,t){e.exports={className:"WeatherItem_className__237QL",time:"WeatherItem_time__3ktc9",temp:"WeatherItem_temp__2uNjp",description:"WeatherItem_description__OnIu7"}},64:function(e,a,t){e.exports={className:"Task1Page_className__3HFGF",login:"Task1Page_login__3-Yu6"}}},[[135,1,2]]]);
//# sourceMappingURL=main.fa146b4e.chunk.js.map